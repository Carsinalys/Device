function getXmlHttp(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".search_input"),t=document.querySelector(".search_form"),n=document.querySelector(".search_submit");e.addEventListener("focus",function(){t.classList.add("search_form_focus"),n.classList.add("search_submit_focus")}),e.addEventListener("blur",function(){setTimeout(function(){t.classList.remove("search_form_focus"),n.classList.remove("search_submit_focus")},1500)})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".header_bottom");document.querySelector(".action_plus_cover").addEventListener("click",function(){e.classList.toggle("header_bottom_active")})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".range1"),t=document.querySelector(".range2"),n=document.querySelector(".value1"),r=document.querySelector(".value2"),i=document.querySelectorAll(".form_range_thumb");e.oninput=function(){this.value=Math.min(this.value,this.parentNode.childNodes[5].value-1);var e=100/(parseInt(this.max)-parseInt(this.min))*parseInt(this.value)-100/(parseInt(this.max)-parseInt(this.min))*parseInt(this.min),t=this.parentNode.childNodes[1].childNodes;t[1].style.width=e+"%",t[5].style.left=e+"%",t[7].style.left=e+"%",n.innerHTML=this.value},t.oninput=function(){this.value=Math.max(this.value,this.parentNode.childNodes[3].value- -1);var e=100/(parseInt(this.max)-parseInt(this.min))*parseInt(this.value)-100/(parseInt(this.max)-parseInt(this.min))*parseInt(this.min),t=this.parentNode.childNodes[1].childNodes;t[3].style.width=100-e+"%",t[5].style.right=100-e+"%",t[9].style.left=e+"%",r.innerHTML=this.value,i[1].style.background="#63b000",i[1].style.border="2px #fff solid"},e.addEventListener("mousedown",function(){i[0].style.background="#63b000",i[0].style.border="2px #fff solid"}),e.addEventListener("mouseup",function(){i[0].style.background="#fff",i[0].style.border="2px #000 solid"}),e.addEventListener("touchstart",function(){i[0].style.background="#63b000",i[0].style.border="2px #fff solid"}),e.addEventListener("touchend",function(){i[0].style.background="#fff",i[0].style.border="2px #000 solid"}),t.addEventListener("mousedown",function(){i[1].style.background="#63b000",i[1].style.border="2px #fff solid"}),t.addEventListener("mouseup",function(){i[1].style.background="#fff",i[1].style.border="2px #000 solid"}),t.addEventListener("touchstart",function(){i[1].style.background="#63b000",i[1].style.border="2px #fff solid"}),t.addEventListener("touchend",function(){i[1].style.background="#fff",i[1].style.border="2px #000 solid"})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".goods_item"),t=document.querySelectorAll(".goods_container"),n=document.querySelectorAll(".hidden");t[1].addEventListener("touchenter",function(t){for(let r=0;r<e.length;r++)t.target===e[r]&&n[r].classList.add("hidden_active")}),t[1].addEventListener("touchleave",function(){for(let e=0;e<n.length;e++)n[e].classList.remove("hidden_active")})});var clone=new Object,newObject=new Object;function identifyListNumber(e){addListNumber(Math.ceil(e/4))}function addListNumber(e){let t=document.querySelectorAll(".nav_list"),n=e;removeListNumbers(document.querySelectorAll(".nav_item"));for(let e=0;e<n;e++){let n=document.createElement("li"),r=document.createElement("a");n.setAttribute("class","nav_item"),r.setAttribute("class","nav_link"),0===e&&r.classList.add("nav_link_active"),r.innerHTML=e+1,n.appendChild(r),t[0].appendChild(n)}}function addChildren(e){let t,n=document.querySelector(".goods"),r=document.querySelectorAll(".nav_link"),i=document.querySelectorAll(".nav_list"),o=document.querySelector(".nav_next_link"),c=document.querySelector(".nav_prew_link");removeChildren(n),t=Object.keys(e).length<4?Object.keys(e).length:4;for(let r=0;r<t;r++)n.appendChild(e[r]);i[0].addEventListener("click",function(t){for(let i=0;i<r.length;i++)if(t.target===r[i]){changeStyleLink(r,i),removeChildren(n);for(let t=4*(i+1)-4;t<4*(i+1);t++){if(!(Object.keys(e).length>t))return!1;n.appendChild(e[t])}}}),o.addEventListener("click",()=>{let t=document.querySelectorAll(".nav_link");for(let r=0;r<t.length;r++)if(t[r].classList.contains("nav_link_active")){if(void 0===t[r+1])return!1;changeStyleLink(t,r+1),removeChildren(n);for(let t=4*(r+2)-4;t<4*(r+2);t++){if(!(Object.keys(e).length>t))return!1;n.appendChild(e[t])}}}),c.addEventListener("click",()=>{for(let t=0;t<r.length;t++)if(r[t].classList.contains("nav_link_active")){if(void 0===r[t-1])return!1;changeStyleLink(r,t-1),removeChildren(n);for(let r=4*t-4;r<4*t;r++){if(!(Object.keys(e).length>r))return!1;n.appendChild(e[r])}}})}function changeStyleLink(e,t){for(let t=0;t<e.length;t++)e[t].classList.remove("nav_link_active");e[t].classList.add("nav_link_active")}function removeListNumbers(e){for(let t=0;t<e.length;t++)e[t].remove()}function backup(e){for(let t=0;t<Object.keys(e).length;t++)newObject[t]=e[t]}function clearObject(e){Object.getOwnPropertyNames(e).forEach(function(t){delete e[t]})}function removeChildren(e){for(let t=e.children.length-1;t>-1;t--)e.children[t].remove()}document.addEventListener("DOMContentLoaded",function(){var e=getXmlHttp();e.open("GET","test.json",!0),e.responseType="json",e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){let t,n=0;t=e.response,function e(){if(void 0===t.goods[n])return!1;{let r=document.createElement("div"),i="";r.setAttribute("class","goods_item"),i+='<div><img src="'+t.goods[n].src+'" alt=""><div class="hidden"><div class="link_backside_theme"><a href="#">в корзину</a>',i+='</div><a href="#">добавить к сравнению</a></div></div><div><p>'+t.goods[n].text+"</p><span>"+t.goods[n].cost+"</span></div>",r.innerHTML=i,clone[n]=r,n++,e()}}(),backup(clone),identifyListNumber(Object.keys(newObject).length),addChildren(newObject)}},e.send(),e.addEventListener("loadend",function(){document.querySelector(".form").addEventListener("change",function(){let e=document.querySelector(".value1").innerHTML,t=document.querySelector(".value2").innerHTML,n=[];clearObject(newObject);let r=0;for(let i in clone)parseFloat(clone[r].children[1].children[1].innerHTML)<t&&parseFloat(clone[r].children[1].children[1].innerHTML)>e&&n.push(r),r++;for(let e=0;e<n.length;e++)newObject[e]=clone[n[e]];identifyListNumber(Object.keys(newObject).length),addChildren(newObject)})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".sort_arrow_up"),t=document.querySelector(".sort_arrow_down");document.querySelectorAll(".nav_link");e.addEventListener("click",function(){let n=[],r=new Object;for(let e=0;e<Object.keys(newObject).length;e++)n.push(parseFloat(newObject[e].children[1].children[1].innerHTML));n.sort(function(e,t){return e-t}).reverse();for(let e=0;e<n.length;e++)for(let t=0;t<Object.keys(newObject).length;t++)n[e]===parseFloat(newObject[t].children[1].children[1].innerHTML)&&(r[e]=newObject[t]);if(identifyListNumber(Object.keys(r).length),addChildren(r),e.classList.contains("active_arrow_up"))return!1;e.classList.add("active_arrow_up"),t.classList.remove("active_arrow_down")}),t.addEventListener("click",function(){let n=[],r=new Object;for(let e=0;e<Object.keys(newObject).length;e++)n.push(parseFloat(newObject[e].children[1].children[1].innerHTML));n.sort(function(e,t){return e-t});for(let e=0;e<n.length;e++)for(let t=0;t<Object.keys(newObject).length;t++)n[e]===parseFloat(newObject[t].children[1].children[1].innerHTML)&&(r[e]=newObject[t]);if(identifyListNumber(Object.keys(r).length),addChildren(r),t.classList.contains("active_arrow_up"))return!1;e.classList.remove("active_arrow_up"),t.classList.add("active_arrow_down")})});